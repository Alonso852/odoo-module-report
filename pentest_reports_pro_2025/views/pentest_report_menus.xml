<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <menuitem id="menu_pentest_root" name="Pentest" sequence="50" groups="pentest_reports_pro_2025.group_pentest_user"/>
    <menuitem id="menu_pentest_reports" name="Reports" parent="menu_pentest_root" sequence="10"/>

    <record id="action_pentest_report" model="ir.actions.act_window">
        <field name="name">Pentest Reports</field>
        <field name="res_model">pentest.report</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first pentest report to keep track of findings.
            </p>
        </field>
    </record>

    <menuitem id="menu_reports_list" name="All Reports" parent="menu_pentest_reports" action="action_pentest_report"/>
    <menuitem id="menu_pentest_sections" name="Sections" parent="menu_pentest_root" sequence="20" action="action_pentest_section" groups="pentest_reports_pro_2025.group_pentest_manager"/>
    <menuitem id="menu_pentest_configuration" name="Configuration" parent="menu_pentest_root" sequence="90" groups="pentest_reports_pro_2025.group_pentest_manager"/>

    <menuitem id="menu_pentest_section_templates" name="Section Templates" parent="menu_pentest_configuration" action="action_pentest_section_template" groups="pentest_reports_pro_2025.group_pentest_manager"/>

    <record id="action_pentest_report_settings" model="ir.actions.act_window">
        <field name="name">Report Layout</field>
        <field name="res_model">res.config.settings</field>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
        <field name="context">{'module': 'pentest_reports_pro_2025'}</field>
    </record>

    <menuitem id="menu_pentest_settings" name="Report Layout" parent="menu_pentest_configuration" action="action_pentest_report_settings" groups="pentest_reports_pro_2025.group_pentest_manager"/>
</odoo>
